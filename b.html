
       <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 6</title>
    <style>
        table{
            border-collapse: collapse;
            display:none;

        }

        td,th{
            border:1px solid black;
            padding:20px 100px;
            text-align: left;
            background-color: lightgrey;
        }


    </style>
</head>
<body>
    <h1>Fetching api Data</h1>
    
    <table>
        <tr>
        <th>SI.No</th>
        <th>Username</th>
        <th>Name</th>
        <th>Email</th>
        </tr>
    </table>
    <input type="text" id ="in"placeholder="text"/>
    <button type="submit" >add data</button>
    <p id ="data"></p>
   
    <script>
        const input=document.getElementById("in");
        const btn=document.getElementsByTagName("button");
        //Step 1:Want instance of tag where we want to add data
        const para = document.getElementById("data");

        btn[0].addEventListener("click" ,() => {
            console.log(input.value);
            para.textContent=input.value;
        });

       const fetching=async() => {
            try{
                const resp=await fetch("https://jsonplaceholder.typicode.com/users");
                if(resp.ok){
                    //Step 2: Want api data 
                     const data=await resp.json();
                     console.log(data);
                     
        //Step 3:Create li and put content on it
              data.forEach((user, index) => {
                const tr = document.createElement("tr");

                // SI.No
                const td1 = document.createElement("td");
                td1.textContent = index + 1;
                tr.appendChild(td1);

                // Username
                const td2 = document.createElement("td");
                td2.textContent = user.username;
                tr.appendChild(td2);

                // Name
                const td3 = document.createElement("td");
                td3.textContent = user.name;
                tr.appendChild(td3);

                // Email
                const td4 = document.createElement("td");
                td4.textContent=user.email;
                tr.appendChild(td4);

                table.appendChild(tr);
              });
            }


        }catch(error){
                console.error("Error fetching data",error);
                
        
        }
    };
            
        
        fetchBtn.addEventListener("click", () => {
            table.style.display = "table"; // Show the table
            fetchBtn.style.display = "none"; // Hide the button after click
            fetching();
        });
</script>    
</body>
</html>